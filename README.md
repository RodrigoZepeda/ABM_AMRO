# ABM_Identifiability_python

Repository for agent based model identifiability check

## Setup of environment

Activate the environment either from the terminal using [conda](https://conda.io/projects/conda/en/latest/index.html)

``
conda env create -f environment.yml
``

or with [Anaconda Navigator](https://docs.anaconda.com/free/navigator/tutorials/manage-environments/). 

## Data 

File `NY_Network_1.mat` is a Matlab structure generated by @TalRobin for the [Matlab version of this project](https://github.com/TalRobin/ABM_Identifiability). 

The structure has the following fields:

- `Days` Dictionary with the following fields:
    - `patients`
    - `wards`
    - `Pfirst`
    - `Wfirst`
    - `activated`
- `NWard` (integer) Total number of wards
- `NPat` (integer) Total number of patients
- `NDays` (integer) Total number of days
- `WardSize` (string) ???
- `day0` (date) First date of measurement
- `daypos` (dataframe) Number of positives by each day. 
- `wardpos` (dataframe) Number of positives by each day and each ward. 

# Executing the repository

> :warning: Right now the data is extracted by `DataTransform.m` from the Matlab as not all the Matlab structures were directly parsable from Python. This should be changed later. 

1. Run the `DataTransform.m` file to extract the Network data `NY_Network_1.mat` from Matlab into `csv` and `txt` files. 

2. Run the `make_network_object.py` file to create the same `Network` object that existed in Matlab but in Python. This will be stored in `data/NY_Network_1.pickle`.

3. You can now run the other files. 